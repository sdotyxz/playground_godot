[gd_scene load_steps=13 format=3 uid="uid://cjwv15iryj3eq"]

[ext_resource type="Texture2D" uid="uid://d1me85o8a1mk3" path="res://resources/tiles/tileset_1.png" id="1_3b4bx"]
[ext_resource type="Script" path="res://main.gd" id="1_ug8yj"]
[ext_resource type="Script" path="res://my_tile_map.gd" id="2_c3pl7"]
[ext_resource type="Texture2D" uid="uid://c0n6gq4s14nsr" path="res://resources/tiles/tile_outline.png" id="4_2v1ey"]
[ext_resource type="Script" path="res://global/my_camera.gd" id="5_qd8wv"]
[ext_resource type="PackedScene" uid="uid://bpkrnbch8qw7g" path="res://entities/units/player/player.tscn" id="6_vwtl5"]
[ext_resource type="Script" path="res://global/entity_spawner.gd" id="7_byf1u"]
[ext_resource type="Script" path="res://my_tile_map_limits.gd" id="7_rhcda"]
[ext_resource type="PackedScene" uid="uid://dao01kag4p3if" path="res://entities/units/enemies/enemy.tscn" id="8_8u1bm"]
[ext_resource type="PackedScene" uid="uid://dgtn5rvxrewky" path="res://wave_manager.tscn" id="10_6c8k2"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5fnsd"]
texture = ExtResource("1_3b4bx")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0

[sub_resource type="TileSet" id="TileSet_7p2ac"]
tile_size = Vector2i(64, 64)
sources/0 = SubResource("TileSetAtlasSource_5fnsd")

[node name="Main" type="Node"]
script = ExtResource("1_ug8yj")

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_7p2ac")
format = 2
script = ExtResource("2_c3pl7")

[node name="Outline" type="NinePatchRect" parent="TileMap"]
modulate = Color(0.345098, 0.345098, 0.345098, 1)
show_behind_parent = true
offset_left = -64.0
offset_top = -64.0
offset_right = 1352.0
offset_bottom = 898.0
texture = ExtResource("4_2v1ey")
patch_margin_left = 101
patch_margin_top = 113
patch_margin_right = 118
patch_margin_bottom = 166
axis_stretch_horizontal = 2

[node name="Camera" type="Camera2D" parent="."]
zoom = Vector2(2, 2)
script = ExtResource("5_qd8wv")

[node name="TileMapLimits" type="StaticBody2D" parent="."]
position = Vector2(-64, -64)
collision_layer = 128
collision_mask = 0
script = ExtResource("7_rhcda")

[node name="EntitySpawner" type="Node" parent="."]
script = ExtResource("7_byf1u")
player_scene = ExtResource("6_vwtl5")
enemy_secene = ExtResource("8_8u1bm")

[node name="Enitties" type="Node2D" parent="."]
y_sort_enabled = true

[node name="WaveManager" parent="." instance=ExtResource("10_6c8k2")]

[connection signal="enemy_spawned" from="EntitySpawner" to="." method="_on_entity_spawner_enemy_spawned"]
[connection signal="player_spawned" from="EntitySpawner" to="." method="_on_entity_spawner_player_spawned"]
[connection signal="group_spawn_timing_reached" from="WaveManager" to="." method="_on_wave_manager_group_spawn_timing_reached"]
